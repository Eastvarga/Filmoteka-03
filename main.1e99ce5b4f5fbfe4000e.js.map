{"version":3,"sources":["webpack:///./templates/library.hbs","webpack:///./templates/movie-grid.hbs","webpack:///./js/team-modal.js","webpack:///./js/refs.js","webpack:///./js/components/library.js","webpack:///./js/pagination.min.js","webpack:///./js/openLibrary.js","webpack:///./js/apiSearchFetch.js","webpack:///./js/apiFilmFetch.js","webpack:///./js/onButtonAddToQueue.js","webpack:///./js/onButtonAddToWatched.js","webpack:///./js/onButtonRemoveFromWatched.js","webpack:///./js/buttonWatchedCheckActive.js","webpack:///./js/onButtonRemoveFromQueue.js","webpack:///./js/buttonQueueCheckActive.js","webpack:///./js/modalFilmMarkup.js","webpack:///./js/modal-text-watcher.js","webpack:///./js/cardDataHandler.js","webpack:///./js/paginationOptions.js","webpack:///./index.js","webpack:///./img/image-placeholder-modal.jpg","webpack:///./img/image-placeholder.jpg","webpack:///./templates/spinner.hbs","webpack:///./templates/library__card.hbs","webpack:///./templates/modal.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","nullContext","program","noop","galleryContainer","document","querySelector","body","closeBtn","onCloseModal","classList","remove","removeEventListener","onEscKeyPress","event","code","addEventListener","evt","preventDefault","window","add","console","log","refs","searchForm","inputForm","navLibrary","buttons","myLibraryGallery","myLibraryCard","libraryList","libraryPaginationContainer","homeGallery","buttonWatched","buttonQueue","movieGrid","errorWarning","underscoreOnMyLibrary","underscoreOnHome","navHome","headerHomeOrMyLibrary","header","getElementById","paginationParametersCommon","locator","totalNumberLocator","pageSize","pageRange","formatResult","map","obj","release_date","slice","genres","name","genre","index","array","toString","showPrevious","prevText","showNext","nextText","autoHidePrevious","autoHideNext","beforePaging","arg","callback","html","libraryTemplate","$","alias","pageNumber","dataSource","a","b","c","Error","d","totalNumber","isNumeric","isFunction","i","isObject","e","each","off","h","g","fn","pagination","f","this","j","k","extend","defaults","l","initialize","callHook","initialized","disabled","model","parseDataSource","isAsync","isString","isArray","length","isDynamicTotalNumber","render","className","addClass","el","position","observer","getTotalPage","Math","min","generateHTML","currentPage","rangeStart","rangeEnd","hideWhenLessThanOnePage","generatePageNumbersHTML","pageLink","ellipsisText","classPrefix","m","activeClassName","n","disableClassName","showFirstOnEllipsisShow","showLastOnEllipsisShow","getTotalNumber","showPageNumbers","showNavigator","showGoInput","showGoButton","o","p","q","r","goButtonText","s","t","u","ulClassName","v","w","x","y","formatNavigator","z","formatGoInput","A","formatGoButton","B","C","D","E","footer","replaceVariables","totalPage","input","button","findTotalNumberFromRemoteResponse","go","direction","enable","currentPageData","doCallback","parseInt","getDataFragment","ajax","type","cache","contentType","dataType","async","url","success","filterDataByLocator","error","formatAjaxError","disable","destroy","previous","next","refresh","show","is","hide","RegExp","replace","ceil","getLocator","split","test","ajaxDataType","Array","apply","arguments","shift","hooks","on","trim","delegate","currentTarget","attr","hasClass","val","trigger","which","focus","max","triggerPagingOnInit","attributes","inlineStyle","addHook","push","jQuery","toLowerCase","define","watchedPaginate","paginatingLib","JSON","parse","localStorage","getItem","cardsPerPage","currentWidthMode","getComputedStyle","documentElement","getPropertyValue","containerToUse","SourceToUse","target","id","openLibrary","contains","openHome","apiKey","searchQuery","_page","_searchUrl","_popularUrl","fetchMovie","baseUrl","fetch","then","res","json","results","fetchGenres","genresUrl","response","catch","newQuery","_baseUrl","pageForSet","ajaxBeforeSendSearchFnc","spinner","api_key","query","page","beforeSend","searchMovie","movie_id","film","onButtonAddToQueue","selectedFilm","filmsQueue","currentFilmsQueue","buttonAddToQueueRef","textContent","find","setItem","stringify","onButtonAddToWatched","filmsArray","currentFilmsWatched","buttonAddToWatchedRef","onButtonRemoveFromWatched","idxToRemove","findIndex","splice","checkButtonWatchedActive","onButtonRemoveFromQueue","checkButtonQueueActive","getFilmInfo","poster_path","posterPlaceholder","markupFilm","modalTpl","modal","basicLightbox","closeModalByEscape","close","modalTextBoxRef","modalTextAboutRef","modalMoreRef","bodyRef","crossRef","btnClosedModal","dataset","size","style","height","clientWidth","lightBox","openModal","nodeName","allGenres","getCardData","result","setPoster","genre_ids","genreIds","reqGenres","setGenres","filter","genreId","genresFilter","apiService","total_pages","text","apiSearch","gridTemplate","form","elements","value","searchUrl","innerHTML","reset","optionsPagination","ajaxDataForSearch","popularUrl","ajaxDataForPopular","lightbox","helper","helperMissing","alias3","alias4"],"mappings":"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","file":"main.1e99ce5b4f5fbfe4000e.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"library__card-container\\\">\\r\\n  <article class=\\\"lib-card\\\" id=\\\"lib-card\\\">\\r\\n    <a class=\\\"lib-card__link\\\" href=\\\"#\\\" data-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\">\\r\\n      <div class=\\\"lib-card__image-container\\\">\\r\\n        <img class=\\\"lib-card__image\\\" src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0), depth0))\n    + \"\\\" alt=\\\"movie-cover\\\" data-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\"/>\\r\\n      </div>\\r\\n      <h2 class=\\\"lib-card__title\\\" data-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\">\\r\\n        \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"title\") : depth0), depth0))\n    + \"\\r\\n      </h2>\\r\\n      <div class=\\\"lib-card__info\\\" data-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\">\\r\\n        <span data-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\">\\r\\n          \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"genres\") : depth0), depth0))\n    + \"\\r\\n        </span>\\r\\n        <span>&nbsp; | &nbsp;</span>\\r\\n        <span data-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\">\\r\\n          \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0), depth0))\n    + \"\\r\\n        </span>\\r\\n        <div class=\\\"lib-card__info--ratio\\\" data-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\">\\r\\n          <span>\\r\\n            \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0), depth0))\n    + \"\\r\\n          </span>\\r\\n        </div>\\r\\n      </div>\\r\\n    </a>\\r\\n  </article>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":30,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"movie-grid__item\\\">\\r\\n    <a href=\\\"#\\\" data-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\">\\r\\n        <div class=\\\"movie-grid__poster-container\\\">\\r\\n            <img class=\\\"movie-grid__poster-img\\\" data-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\" src=\\\" \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0), depth0))\n    + \"\\\" alt=\\\"Poster\\\" />\\r\\n        </div>\\r\\n        <h2 class=\\\"movie-grid__title\\\" data-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"title\") : depth0), depth0))\n    + \"</h2>\\r\\n        <p class=\\\" movie-grid__info\\\">\\r\\n            \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"genre_ids\") : depth0), depth0))\n    + \" | \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0), depth0))\n    + \"\\r\\n        </p>\\r\\n    </a>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":13,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const galleryContainer = document.querySelector('.footer-link');\r\nconst openTeamModalBtn = document.querySelector('.js-open-modal');\r\nconst backdropTeamModal = document.querySelector('.js-backdrop');\r\nconst body = document.querySelector('body');\r\nconst closeBtn = document.querySelector('.js-team-close');\r\n\r\ngalleryContainer.addEventListener('click', onOpenModal);\r\nconsole.log(5667677, galleryContainer);\r\nfunction onOpenModal(evt) {\r\n  evt.preventDefault();\r\n\r\n  window.addEventListener('keydown', onEscKeyPress);\r\n\r\n  closeBtn.addEventListener('click', onCloseModal);\r\n  body.classList.add('show-modal');\r\n}\r\n\r\nfunction onCloseModal() {\r\n  document.body.classList.remove('show-modal');\r\n  closeBtn.removeEventListener('click', onCloseModal);\r\n}\r\n\r\nfunction onEscKeyPress(event) {\r\n  if (event.code === 'Escape') {\r\n    onCloseModal();\r\n  }\r\n}\r\n","const refs = {\r\n  searchForm: document.querySelector('.form'),\r\n  inputForm: document.querySelector('.search-form'),\r\n  navLibrary: document.querySelector('#library'),\r\n  buttons: document.querySelector('.js-buttons'),\r\n  myLibraryGallery: document.querySelector('.library__container'),\r\n  myLibraryCard: document.querySelector('#lib-card'),\r\n  libraryList: document.querySelector('#my-library'),\r\n  libraryPaginationContainer: document.querySelector('#library__page-selector'),\r\n  homeGallery: document.querySelector('.movie-cards'),\r\n  buttonWatched: document.querySelector('#watched'),\r\n  buttonQueue: document.querySelector('#queue'),\r\n  movieGrid: document.querySelector('#js-grid'),\r\n  errorWarning: document.querySelector('.form__warning'),\r\n  underscoreOnMyLibrary: document.querySelector('.lib'),\r\n  underscoreOnHome: document.querySelector('.underscore'),\r\n  navHome: document.querySelector('#home'),\r\n  headerHomeOrMyLibrary: document.querySelector('.home'),\r\n  header: document.getElementById('header'),\r\n};\r\n\r\nexport default refs;\r\n","// import external modules here:\r\n\r\n// import Refs here:\r\nimport refs from '../refs.js';\r\n// import templates:\r\nimport libraryTemplate from '../../templates/library.hbs';\r\nimport libraryCardTemplate from '../../templates/library__card.hbs';\r\n\r\nexport const paginationParametersCommon = {\r\n  locator: 'results',\r\n  totalNumberLocator: 2,\r\n  pageSize: 4,\r\n  pageRange: 2,\r\n  formatResult: function (data) {\r\n    // console.log(data);\r\n    return data.map(obj => {\r\n      if (obj.release_date) {\r\n        obj.release_date = obj.release_date.slice(0, 4);\r\n      } else {\r\n        obj.release_date = 'unknown';\r\n      }\r\n      // obj.poster_path = 'https://image.tmdb.org/t/p/w342' + obj.poster_path;\r\n\r\n      obj.genres = obj.genres\r\n        .map(obj => obj.name)\r\n        .map((genre, index, array) => {\r\n          if (index === 2) return 'Other';\r\n          return genre;\r\n        })\r\n        .slice(0, 2)\r\n        .toString();\r\n\r\n      return obj;\r\n    });\r\n  },\r\n  showPrevious: true, // показать стрелочку \"предыдущее\"\r\n  prevText: '',\r\n  showNext: true, //показать стрелочку \"следующее\"\r\n  nextText: '',\r\n  autoHidePrevious: false, // авто спрятать кнопку \"предыдущее\"\r\n  autoHideNext: false, // авто спрятать кнопку \"следующее\"\r\n  beforePaging: function (arg) {\r\n    // console.log(arg);obj.genres\r\n    // apiService.page = arg;\r\n  },\r\n  callback: function (data) {\r\n    // apiSearch.page = this.pageNumber;\r\n    //--------------------------------------------\r\n    const html = libraryTemplate(data);\r\n    $(refs.libraryList).html(html);\r\n  },\r\n  //псевдоним заменяющий имя пагинатора pageNumber на имя в API запросе в нашем случае page что позволяет повторно отсялать запросы при нажатии на страницу\r\n  alias: {\r\n    pageNumber: 'page',\r\n    // pageSize: 'limit',\r\n  },\r\n  dataSource: '',\r\n};\r\n","/*\r\n * pagination.js 2.1.5\r\n * A jQuery plugin to provide simple yet fully customisable pagination\r\n * https://github.com/superRaytin/paginationjs\r\n\r\n * Homepage: http://pagination.js.org\r\n *\r\n * Copyright 2014-2100, superRaytin\r\n * Released under the MIT license.\r\n*/\r\n!function(a,b){function c(a){throw new Error(\"Pagination: \"+a)}function d(a){a.dataSource||c('\"dataSource\" is required.'),\"string\"==typeof a.dataSource?void 0===a.totalNumberLocator?void 0===a.totalNumber?c('\"totalNumber\" is required.'):b.isNumeric(a.totalNumber)||c('\"totalNumber\" is incorrect. (Number)'):b.isFunction(a.totalNumberLocator)||c('\"totalNumberLocator\" should be a Function.'):i.isObject(a.dataSource)&&(void 0===a.locator?c('\"dataSource\" is an Object, please specify \"locator\".'):\"string\"==typeof a.locator||b.isFunction(a.locator)||c(a.locator+\" is incorrect. (String | Function)\")),void 0===a.formatResult||b.isFunction(a.formatResult)||c('\"formatResult\" should be a Function.')}function e(a){var c=[\"go\",\"previous\",\"next\",\"disable\",\"enable\",\"refresh\",\"show\",\"hide\",\"destroy\"];b.each(c,function(b,c){a.off(h+c)}),a.data(\"pagination\",{}),b(\".paginationjs\",a).remove()}function f(a,b){return(\"object\"==(b=typeof a)?null==a&&\"null\"||Object.prototype.toString.call(a).slice(8,-1):b).toLowerCase()}void 0===b&&c(\"Pagination requires jQuery.\");var g=\"pagination\",h=\"__pagination-\";b.fn.pagination&&(g=\"pagination2\"),b.fn[g]=function(f){if(void 0===f)return this;var j=b(this),k=b.extend({},b.fn[g].defaults,f),l={initialize:function(){var a=this;if(j.data(\"pagination\")||j.data(\"pagination\",{}),!1!==a.callHook(\"beforeInit\")){j.data(\"pagination\").initialized&&b(\".paginationjs\",j).remove(),a.disabled=!!k.disabled;var c=a.model={pageRange:k.pageRange,pageSize:k.pageSize};a.parseDataSource(k.dataSource,function(b){a.isAsync=i.isString(b),i.isArray(b)&&(c.totalNumber=k.totalNumber=b.length),a.isDynamicTotalNumber=a.isAsync&&k.totalNumberLocator;var d=a.render(!0);k.className&&d.addClass(k.className),c.el=d,j[\"bottom\"===k.position?\"append\":\"prepend\"](d),a.observer(),j.data(\"pagination\").initialized=!0,a.callHook(\"afterInit\",d)})}},render:function(a){var c=this,d=c.model,e=d.el||b('<div class=\"paginationjs\"></div>'),f=!0!==a;c.callHook(\"beforeRender\",f);var g=d.pageNumber||k.pageNumber,h=k.pageRange||0,i=c.getTotalPage(),j=g-h,l=g+h;return l>i&&(l=i,j=i-2*h,j=j<1?1:j),j<=1&&(j=1,l=Math.min(2*h+1,i)),e.html(c.generateHTML({currentPage:g,pageRange:h,rangeStart:j,rangeEnd:l})),k.hideWhenLessThanOnePage&&e[i<=1?\"hide\":\"show\"](),c.callHook(\"afterRender\",f),e},generatePageNumbersHTML:function(a){var b,c=this,d=a.currentPage,e=c.getTotalPage(),f=a.rangeStart,g=a.rangeEnd,h=\"\",i=k.pageLink,j=k.ellipsisText,l=k.classPrefix,m=k.activeClassName,n=k.disableClassName;if(null===k.pageRange){for(b=1;b<=e;b++)h+=b==d?'<li class=\"'+l+\"-page J-paginationjs-page \"+m+'\" data-num=\"'+b+'\"><a>'+b+\"</a></li>\":'<li class=\"'+l+'-page J-paginationjs-page\" data-num=\"'+b+'\"><a href=\"'+i+'\">'+b+\"</a></li>\";return h}if(f<=3)for(b=1;b<f;b++)h+=b==d?'<li class=\"'+l+\"-page J-paginationjs-page \"+m+'\" data-num=\"'+b+'\"><a>'+b+\"</a></li>\":'<li class=\"'+l+'-page J-paginationjs-page\" data-num=\"'+b+'\"><a href=\"'+i+'\">'+b+\"</a></li>\";else k.showFirstOnEllipsisShow&&(h+='<li class=\"'+l+\"-page \"+l+'-first J-paginationjs-page\" data-num=\"1\"><a href=\"'+i+'\">1</a></li>'),h+='<li class=\"'+l+\"-ellipsis \"+n+'\"><a>'+j+\"</a></li>\";for(b=f;b<=g;b++)h+=b==d?'<li class=\"'+l+\"-page J-paginationjs-page \"+m+'\" data-num=\"'+b+'\"><a>'+b+\"</a></li>\":'<li class=\"'+l+'-page J-paginationjs-page\" data-num=\"'+b+'\"><a href=\"'+i+'\">'+b+\"</a></li>\";if(g>=e-2)for(b=g+1;b<=e;b++)h+='<li class=\"'+l+'-page J-paginationjs-page\" data-num=\"'+b+'\"><a href=\"'+i+'\">'+b+\"</a></li>\";else h+='<li class=\"'+l+\"-ellipsis \"+n+'\"><a>'+j+\"</a></li>\",k.showLastOnEllipsisShow&&(h+='<li class=\"'+l+\"-page \"+l+'-last J-paginationjs-page\" data-num=\"'+e+'\"><a href=\"'+i+'\">'+e+\"</a></li>\");return h},generateHTML:function(a){var c,d=this,e=a.currentPage,f=d.getTotalPage(),g=d.getTotalNumber(),h=k.showPrevious,i=k.showNext,j=k.showPageNumbers,l=k.showNavigator,m=k.showGoInput,n=k.showGoButton,o=k.pageLink,p=k.prevText,q=k.nextText,r=k.goButtonText,s=k.classPrefix,t=k.disableClassName,u=k.ulClassName,v=\"\",w='<input type=\"text\" class=\"J-paginationjs-go-pagenumber\">',x='<input type=\"button\" class=\"J-paginationjs-go-button\" value=\"'+r+'\">',y=b.isFunction(k.formatNavigator)?k.formatNavigator(e,f,g):k.formatNavigator,z=b.isFunction(k.formatGoInput)?k.formatGoInput(w,e,f,g):k.formatGoInput,A=b.isFunction(k.formatGoButton)?k.formatGoButton(x,e,f,g):k.formatGoButton,B=b.isFunction(k.autoHidePrevious)?k.autoHidePrevious():k.autoHidePrevious,C=b.isFunction(k.autoHideNext)?k.autoHideNext():k.autoHideNext,D=b.isFunction(k.header)?k.header(e,f,g):k.header,E=b.isFunction(k.footer)?k.footer(e,f,g):k.footer;return D&&(c=d.replaceVariables(D,{currentPage:e,totalPage:f,totalNumber:g}),v+=c),(h||j||i)&&(v+='<div class=\"paginationjs-pages\">',v+=u?'<ul class=\"'+u+'\">':\"<ul>\",h&&(e<=1?B||(v+='<li class=\"'+s+\"-prev \"+t+'\"><a>'+p+\"</a></li>\"):v+='<li class=\"'+s+'-prev J-paginationjs-previous\" data-num=\"'+(e-1)+'\" title=\"Previous page\"><a href=\"'+o+'\">'+p+\"</a></li>\"),j&&(v+=d.generatePageNumbersHTML(a)),i&&(e>=f?C||(v+='<li class=\"'+s+\"-next \"+t+'\"><a>'+q+\"</a></li>\"):v+='<li class=\"'+s+'-next J-paginationjs-next\" data-num=\"'+(e+1)+'\" title=\"Next page\"><a href=\"'+o+'\">'+q+\"</a></li>\"),v+=\"</ul></div>\"),l&&y&&(c=d.replaceVariables(y,{currentPage:e,totalPage:f,totalNumber:g}),v+='<div class=\"'+s+'-nav J-paginationjs-nav\">'+c+\"</div>\"),m&&z&&(c=d.replaceVariables(z,{currentPage:e,totalPage:f,totalNumber:g,input:w}),v+='<div class=\"'+s+'-go-input\">'+c+\"</div>\"),n&&A&&(c=d.replaceVariables(A,{currentPage:e,totalPage:f,totalNumber:g,button:x}),v+='<div class=\"'+s+'-go-button\">'+c+\"</div>\"),E&&(c=d.replaceVariables(E,{currentPage:e,totalPage:f,totalNumber:g}),v+=c),v},findTotalNumberFromRemoteResponse:function(a){this.model.totalNumber=k.totalNumberLocator(a)},go:function(a,c){function d(a){if(!1===e.callHook(\"beforePaging\",g))return!1;if(f.direction=void 0===f.pageNumber?0:g>f.pageNumber?1:-1,f.pageNumber=g,e.render(),e.disabled&&e.isAsync&&e.enable(),j.data(\"pagination\").model=f,k.formatResult){var d=b.extend(!0,[],a);i.isArray(a=k.formatResult(d))||(a=d)}j.data(\"pagination\").currentPageData=a,e.doCallback(a,c),e.callHook(\"afterPaging\",g),1==g&&e.callHook(\"afterIsFirstPage\"),g==e.getTotalPage()&&e.callHook(\"afterIsLastPage\")}var e=this,f=e.model;if(!e.disabled){var g=a;if((g=parseInt(g))&&!(g<1)){var h=k.pageSize,l=e.getTotalNumber(),m=e.getTotalPage();if(!(l>0&&g>m)){if(!e.isAsync)return void d(e.getDataFragment(g));var n={},o=k.alias||{};n[o.pageSize?o.pageSize:\"pageSize\"]=h,n[o.pageNumber?o.pageNumber:\"pageNumber\"]=g;var p=b.isFunction(k.ajax)?k.ajax():k.ajax,q={type:\"get\",cache:!1,data:{},contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",dataType:\"json\",async:!0};b.extend(!0,q,p),b.extend(q.data,n),q.url=k.dataSource,q.success=function(a){e.isDynamicTotalNumber?e.findTotalNumberFromRemoteResponse(a):e.model.totalNumber=k.totalNumber,d(e.filterDataByLocator(a))},q.error=function(a,b,c){k.formatAjaxError&&k.formatAjaxError(a,b,c),e.enable()},e.disable(),b.ajax(q)}}}},doCallback:function(a,c){var d=this,e=d.model;b.isFunction(c)?c(a,e):b.isFunction(k.callback)&&k.callback(a,e)},destroy:function(){!1!==this.callHook(\"beforeDestroy\")&&(this.model.el.remove(),j.off(),b(\"#paginationjs-style\").remove(),this.callHook(\"afterDestroy\"))},previous:function(a){this.go(this.model.pageNumber-1,a)},next:function(a){this.go(this.model.pageNumber+1,a)},disable:function(){var a=this,b=a.isAsync?\"async\":\"sync\";!1!==a.callHook(\"beforeDisable\",b)&&(a.disabled=!0,a.model.disabled=!0,a.callHook(\"afterDisable\",b))},enable:function(){var a=this,b=a.isAsync?\"async\":\"sync\";!1!==a.callHook(\"beforeEnable\",b)&&(a.disabled=!1,a.model.disabled=!1,a.callHook(\"afterEnable\",b))},refresh:function(a){this.go(this.model.pageNumber,a)},show:function(){var a=this;a.model.el.is(\":visible\")||a.model.el.show()},hide:function(){var a=this;a.model.el.is(\":visible\")&&a.model.el.hide()},replaceVariables:function(a,b){var c;for(var d in b){var e=b[d],f=new RegExp(\"<%=\\\\s*\"+d+\"\\\\s*%>\",\"img\");c=(c||a).replace(f,e)}return c},getDataFragment:function(a){var b=k.pageSize,c=k.dataSource,d=this.getTotalNumber(),e=b*(a-1)+1,f=Math.min(a*b,d);return c.slice(e-1,f)},getTotalNumber:function(){return this.model.totalNumber||k.totalNumber||0},getTotalPage:function(){return Math.ceil(this.getTotalNumber()/k.pageSize)},getLocator:function(a){var d;return\"string\"==typeof a?d=a:b.isFunction(a)?d=a():c('\"locator\" is incorrect. (String | Function)'),d},filterDataByLocator:function(a){var d,e=this.getLocator(k.locator);if(i.isObject(a)){try{b.each(e.split(\".\"),function(b,c){d=(d||a)[c]})}catch(a){}d?i.isArray(d)||c(\"dataSource.\"+e+\" must be an Array.\"):c(\"dataSource.\"+e+\" is undefined.\")}return d||a},parseDataSource:function(a,d){var e=this;i.isObject(a)?d(k.dataSource=e.filterDataByLocator(a)):i.isArray(a)?d(k.dataSource=a):b.isFunction(a)?k.dataSource(function(a){i.isArray(a)||c('The parameter of \"done\" Function should be an Array.'),e.parseDataSource.call(e,a,d)}):\"string\"==typeof a?(/^https?|file:/.test(a)&&(k.ajaxDataType=\"jsonp\"),d(a)):c('Unexpected type of \"dataSource\".')},callHook:function(c){var d,e=j.data(\"pagination\"),f=Array.prototype.slice.apply(arguments);return f.shift(),k[c]&&b.isFunction(k[c])&&!1===k[c].apply(a,f)&&(d=!1),e.hooks&&e.hooks[c]&&b.each(e.hooks[c],function(b,c){!1===c.apply(a,f)&&(d=!1)}),!1!==d},observer:function(){var a=this,d=a.model.el;j.on(h+\"go\",function(d,e,f){(e=parseInt(b.trim(e)))&&(b.isNumeric(e)||c('\"pageNumber\" is incorrect. (Number)'),a.go(e,f))}),d.delegate(\".J-paginationjs-page\",\"click\",function(c){var d=b(c.currentTarget),e=b.trim(d.attr(\"data-num\"));if(e&&!d.hasClass(k.disableClassName)&&!d.hasClass(k.activeClassName))return!1!==a.callHook(\"beforePageOnClick\",c,e)&&(a.go(e),a.callHook(\"afterPageOnClick\",c,e),!!k.pageLink&&void 0)}),d.delegate(\".J-paginationjs-previous\",\"click\",function(c){var d=b(c.currentTarget),e=b.trim(d.attr(\"data-num\"));if(e&&!d.hasClass(k.disableClassName))return!1!==a.callHook(\"beforePreviousOnClick\",c,e)&&(a.go(e),a.callHook(\"afterPreviousOnClick\",c,e),!!k.pageLink&&void 0)}),d.delegate(\".J-paginationjs-next\",\"click\",function(c){var d=b(c.currentTarget),e=b.trim(d.attr(\"data-num\"));if(e&&!d.hasClass(k.disableClassName))return!1!==a.callHook(\"beforeNextOnClick\",c,e)&&(a.go(e),a.callHook(\"afterNextOnClick\",c,e),!!k.pageLink&&void 0)}),d.delegate(\".J-paginationjs-go-button\",\"click\",function(c){var e=b(\".J-paginationjs-go-pagenumber\",d).val();if(!1===a.callHook(\"beforeGoButtonOnClick\",c,e))return!1;j.trigger(h+\"go\",e),a.callHook(\"afterGoButtonOnClick\",c,e)}),d.delegate(\".J-paginationjs-go-pagenumber\",\"keyup\",function(c){if(13===c.which){var e=b(c.currentTarget).val();if(!1===a.callHook(\"beforeGoInputOnEnter\",c,e))return!1;j.trigger(h+\"go\",e),b(\".J-paginationjs-go-pagenumber\",d).focus(),a.callHook(\"afterGoInputOnEnter\",c,e)}}),j.on(h+\"previous\",function(b,c){a.previous(c)}),j.on(h+\"next\",function(b,c){a.next(c)}),j.on(h+\"disable\",function(){a.disable()}),j.on(h+\"enable\",function(){a.enable()}),j.on(h+\"refresh\",function(b,c){a.refresh(c)}),j.on(h+\"show\",function(){a.show()}),j.on(h+\"hide\",function(){a.hide()}),j.on(h+\"destroy\",function(){a.destroy()});var e=Math.max(a.getTotalPage(),1),f=k.pageNumber;a.isDynamicTotalNumber&&(f=1),k.triggerPagingOnInit&&j.trigger(h+\"go\",Math.min(f,e))}};if(j.data(\"pagination\")&&!0===j.data(\"pagination\").initialized){if(b.isNumeric(f))return j.trigger.call(this,h+\"go\",f,arguments[1]),this;if(\"string\"==typeof f){var m=Array.prototype.slice.apply(arguments);switch(m[0]=h+m[0],f){case\"previous\":case\"next\":case\"go\":case\"disable\":case\"enable\":case\"refresh\":case\"show\":case\"hide\":case\"destroy\":j.trigger.apply(this,m);break;case\"getSelectedPageNum\":return j.data(\"pagination\").model?j.data(\"pagination\").model.pageNumber:j.data(\"pagination\").attributes.pageNumber;case\"getTotalPage\":return Math.ceil(j.data(\"pagination\").model.totalNumber/j.data(\"pagination\").model.pageSize);case\"getSelectedPageData\":return j.data(\"pagination\").currentPageData;case\"isDisabled\":return!0===j.data(\"pagination\").model.disabled;default:c(\"Unknown action: \"+f)}return this}e(j)}else i.isObject(f)||c(\"Illegal options\");return d(k),l.initialize(),this},b.fn[g].defaults={totalNumber:0,pageNumber:1,pageSize:10,pageRange:2,showPrevious:!0,showNext:!0,showPageNumbers:!0,showNavigator:!1,showGoInput:!1,showGoButton:!1,pageLink:\"\",prevText:\"&laquo;\",nextText:\"&raquo;\",ellipsisText:\"...\",goButtonText:\"Go\",classPrefix:\"paginationjs\",activeClassName:\"active\",disableClassName:\"disabled\",inlineStyle:!0,formatNavigator:\"<%= currentPage %> / <%= totalPage %>\",formatGoInput:\"<%= input %>\",formatGoButton:\"<%= button %>\",position:\"bottom\",autoHidePrevious:!1,autoHideNext:!1,triggerPagingOnInit:!0,hideWhenLessThanOnePage:!1,showFirstOnEllipsisShow:!0,showLastOnEllipsisShow:!0,callback:function(){}},b.fn.addHook=function(a,d){arguments.length<2&&c(\"Missing argument.\"),b.isFunction(d)||c(\"callback must be a function.\");var e=b(this),f=e.data(\"pagination\");f||(e.data(\"pagination\",{}),f=e.data(\"pagination\")),!f.hooks&&(f.hooks={}),f.hooks[a]=f.hooks[a]||[],f.hooks[a].push(d)},b[g]=function(a,d){arguments.length<2&&c(\"Requires two parameters.\");var e;if(e=\"string\"!=typeof a&&a instanceof jQuery?a:b(a),e.length)return e.pagination(d),e};var i={};b.each([\"Object\",\"Array\",\"String\"],function(a,b){i[\"is\"+b]=function(a){return f(a)===b.toLowerCase()}}),\"function\"==typeof define&&define.amd&&define(function(){return b})}(this,window.jQuery);","import refs from './refs.js';\r\n\r\nimport { paginationParametersCommon } from './components/library';\r\n\r\nimport './pagination.min';\r\n\r\n//\r\nconst container = $(refs.libraryPaginationContainer);\r\n\r\n// refs.buttonQueue.addEventListener('click',);\r\n\r\nfunction buttonQueueActive() {\r\n  refs.buttonWatched.classList.remove('library__button--active');\r\n  refs.buttonQueue.classList.add('library__button--active');\r\n}\r\n\r\n// refs.buttonWatched.addEventListener('click');\r\nfunction buttonWatchedActive() {\r\n  refs.buttonQueue.classList.remove('library__button--active');\r\n  refs.buttonWatched.classList.add('library__button--active');\r\n}\r\n\r\n// refs.navLibrary.addEventListener('click', openLibrary);\r\nfunction queuePaginate() {\r\n  paginatingLib(container, (JSON.parse(localStorage.getItem('filmsQueue'))), (cardsPerPage()));\r\n}\r\n\r\nfunction watchedPaginate() {\r\n  paginatingLib(container, (JSON.parse(localStorage.getItem('filmsWatched'))), (cardsPerPage()));\r\n}\r\n\r\nfunction openLibrary(event) {\r\n  event.preventDefault();\r\n\r\n  refs.searchForm.classList.add('is-hidden');\r\n  refs.homeGallery.classList.add('is-hidden');\r\n  refs.buttons.classList.remove('is-hidden');\r\n  refs.headerHomeOrMyLibrary.classList.add('lib');\r\n  //слушатель кнопки очередь\r\n\r\n  refs.myLibraryGallery.classList.remove('is-hidden');\r\n  refs.errorWarning.classList.add('is-hidden');\r\n  refs.underscoreOnMyLibrary.classList.remove('is-hidden');\r\n  refs.underscoreOnHome.classList.add('is-hidden');\r\n}\r\n\r\nfunction cardsPerPage() {\r\n  const currentWidthMode = window\r\n    .getComputedStyle(document.documentElement)\r\n    .getPropertyValue('--currentWidthMode');\r\n  console.log(currentWidthMode);\r\n  return currentWidthMode;\r\n}\r\n\r\n\r\n\r\n// refs.navHome.addEventListener('click', openHome);\r\nfunction openHome(event) {\r\n  event.preventDefault(event);\r\n  refs.searchForm.classList.remove('is-hidden');\r\n  refs.homeGallery.classList.remove('is-hidden');\r\n  refs.buttons.classList.add('is-hidden');\r\n  refs.myLibraryGallery.classList.add('is-hidden');\r\n  refs.underscoreOnMyLibrary.classList.add('is-hidden');\r\n  refs.underscoreOnHome.classList.remove('is-hidden');\r\n  refs.headerHomeOrMyLibrary.classList.remove('lib'); // refs.myHomeGallery.classList.remove('is-hidden'); //refs.errorWarning.classList.add('is-hidden');\r\n}\r\n\r\n// refactoring event listeners\r\nrefs.header.addEventListener('click', event => {\r\n  // Обработка на кнопки Library\r\n  if (event.target.id === 'library') {\r\n    openLibrary(event);\r\n    watchedPaginate();\r\n    return;\r\n  }\r\n  //Обработка на кнопки Home\r\n  if (event.target.id === 'home') {\r\n    openHome(event);\r\n    return;\r\n  }\r\n  if (event.target.id === 'watched') {\r\n    if (!event.target.classList.contains('library__button--active')) {\r\n      buttonWatchedActive();\r\n      watchedPaginate();\r\n    }\r\n    return;\r\n  }\r\n  if (event.target.id === 'queue') {\r\n    // console.log(event.target.classList.contains('library__button--active'));\r\n    if (!event.target.classList.contains('library__button--active')) {\r\n      buttonQueueActive();\r\n      queuePaginate(event);\r\n    }\r\n    return;\r\n  }\r\n});\r\n\r\n\r\nfunction paginatingLib(containerToUse, SourceToUse, cardsPerPage){\r\n  \r\n  containerToUse.pagination({\r\n    ...paginationParametersCommon,\r\n    dataSource: SourceToUse,\r\n    pageSize: cardsPerPage,\r\n    showPrevious: ((SourceToUse.length/cardsPerPage)>2),\r\n    showNext: ((SourceToUse.length/cardsPerPage>2))\r\n  });\r\n}","import spinner from '../templates/spinner.hbs';\r\n\r\nexport default {\r\n  apiKey: '2d2272085b6a086155bacb1413ae9080',\r\n  searchQuery: '',\r\n  _page: 1,\r\n  _searchUrl: 'https://api.themoviedb.org/3/search/movie',\r\n  _popularUrl: 'https://api.themoviedb.org/3/trending/movie/day',\r\n  fetchMovie(searchQuery) {\r\n    const url = this.baseUrl + `?api_key=${this.apiKey}&query=${searchQuery}`;\r\n    return fetch(url)\r\n      .then(res => res.json())\r\n      .then(({ results }) => results);\r\n  },\r\n  fetchGenres() {\r\n    const genresUrl = `https://api.themoviedb.org/3/genre/movie/list?api_key=${this.apiKey}&language=en-US`;\r\n    return fetch(genresUrl)\r\n      .then(response => response.json())\r\n      .then(({ genres }) => genres)\r\n      .catch(error => console.log(error));\r\n  },\r\n\r\n  get query() {\r\n    return this.searchQuery;\r\n  },\r\n\r\n  set query(newQuery) {\r\n    this.searchQuery = newQuery;\r\n  },\r\n  get searchUrl() {\r\n    return `${this._baseUrl}&query=${this.searchQuery}`;\r\n  },\r\n  get page() {\r\n    return this._page;\r\n  },\r\n  set page(pageForSet) {\r\n    this._page = pageForSet;\r\n  },\r\n  get searchUrl() {\r\n    return this._searchUrl;\r\n  },\r\n  get popularUrl() {\r\n    return this._popularUrl;\r\n  },\r\n  //ajax option for pagination\r\n  ajaxBeforeSendSearchFnc: function () {\r\n    $('#js-grid').html(spinner());\r\n  },\r\n  //pagination option\r\n  get ajaxDataForSearch() {\r\n    return {\r\n      data: {\r\n        api_key: this.apiKey,\r\n        query: this.searchQuery,\r\n        page: this._page,\r\n      },\r\n      beforeSend: this.ajaxBeforeSendSearchFnc,\r\n    };\r\n  },\r\n  get ajaxDataForPopular() {\r\n    return {\r\n      data: {\r\n        api_key: this.apiKey,\r\n        page: this._page,\r\n      },\r\n      beforeSend: this.ajaxBeforeSendSearchFnc,\r\n    };\r\n  },\r\n};\r\n","const apiKey = '2d2272085b6a086155bacb1413ae9080';\r\n\r\nfunction searchMovie(movie_id) {\r\n    const url = `https://api.themoviedb.org/3/movie/${movie_id}?api_key=${apiKey}`\r\n    return fetch(url).then(res => res.json()).then((film) => {\r\n         return film;\r\n        }).catch(error => console.log(error));\r\n}\r\nexport default searchMovie;","function onButtonAddToQueue(selectedFilm) {\r\n  let filmsQueue = [];\r\n  const currentFilmsQueue = localStorage.getItem('filmsQueue');\r\n\r\n  if (currentFilmsQueue) {\r\n    // console.log(\r\n    //   'уже есть массив с сохранёнными фильмами, добавляем объект с новым фильмом',\r\n    // );\r\n\r\n    filmsQueue = JSON.parse(currentFilmsQueue);\r\n\r\n     const buttonAddToQueueRef = document.querySelector('.modal__queue-button');\r\n     buttonAddToQueueRef.classList.add('active');\r\n     buttonAddToQueueRef.textContent = 'IN QUEUE';\r\n\r\n    if (!filmsQueue.find(({ id }) => id === selectedFilm.id)) {\r\n      filmsQueue.push(selectedFilm);\r\n      localStorage.setItem('filmsQueue', JSON.stringify(filmsQueue));\r\n    }\r\n  } else {\r\n    // console.log('массива с сохранёнными фильмами пока нет, создаём');\r\n\r\n    filmsQueue.push(selectedFilm);\r\n    localStorage.setItem('filmsQueue', JSON.stringify(filmsQueue));\r\n  }\r\n}\r\n\r\nexport default onButtonAddToQueue;\r\n","function onButtonAddToWatched(selectedFilm) {\r\n  const filmsArray = [];\r\n  const currentFilmsWatched = localStorage.getItem('filmsWatched');\r\n\r\n  if (currentFilmsWatched) {\r\n    // console.log(\r\n    //   'уже есть массив с сохранёнными фильмами, добавляем объект с новым фильмом',\r\n    // );\r\n\r\n    let filmsArray = JSON.parse(currentFilmsWatched);\r\n\r\n    // =================\r\n    const buttonAddToWatchedRef = document.querySelector(\r\n      '.modal__watched-button');\r\n    buttonAddToWatchedRef.classList.add('active');\r\n    buttonAddToWatchedRef.textContent = 'IN WATCHED';\r\n     // =================\r\n\r\n    if (!filmsArray.find(({ id }) => id === selectedFilm.id)) {\r\n      filmsArray.push(selectedFilm);\r\n      localStorage.setItem('filmsWatched', JSON.stringify(filmsArray));\r\n   \r\n    }\r\n  } else {\r\n    // console.log('массива с сохранёнными фильмами пока нет, создаём');\r\n\r\n    filmsArray.push(selectedFilm);\r\n    localStorage.setItem('filmsWatched', JSON.stringify(filmsArray));\r\n  }\r\n}\r\n\r\nexport default onButtonAddToWatched;\r\n","function onButtonRemoveFromWatched(selectedFilm) {\r\n  const filmsArray = [];\r\n  const currentFilmsWatched = localStorage.getItem('filmsWatched');\r\n  \r\n  if (currentFilmsWatched) {\r\n  \r\n    let filmsArray = JSON.parse(currentFilmsWatched);\r\n    //console.log(filmsArray);\r\n    if (filmsArray.find(({ id }) => id === selectedFilm.id)) {\r\n     \r\n      const idxToRemove = filmsArray.findIndex(el => el.id === selectedFilm.id);\r\n    \r\n      filmsArray.splice(idxToRemove, 1);\r\n      localStorage.setItem('filmsWatched', JSON.stringify(filmsArray));\r\n      const buttonAddToWatchedRef = document.querySelector(\r\n        '.modal__watched-button',\r\n      );\r\n     \r\n      buttonAddToWatchedRef.classList.remove('active');\r\n      buttonAddToWatchedRef.textContent = 'ADD TO WATCHED';\r\n    } else {\r\n      console.log('not find');\r\n    }\r\n  }\r\n}\r\n\r\nexport default onButtonRemoveFromWatched;\r\n","import onButtonRemoveFromWatched from './onButtonRemoveFromWatched';\r\nimport onButtonAddToWatched from './onButtonAddToWatched';\r\n\r\nfunction checkButtonWatchedActive(film) {\r\n    const buttonAddToWatchedRef = document.querySelector(\r\n        '.modal__watched-button');\r\n        // console.log(\r\n        //     buttonAddToWatchedRef.classList.contains('active')\r\n        // )\r\n        if(buttonAddToWatchedRef.classList.contains('active')) {\r\n            onButtonRemoveFromWatched(film);\r\n        }\r\n        else {onButtonAddToWatched(film);\r\n\r\n        };\r\n\r\n}\r\nexport default checkButtonWatchedActive;","function onButtonRemoveFromQueue(selectedFilm) {\r\n  const filmsQueue = [];\r\n  const currentFilmsQueue = localStorage.getItem('filmsQueue');\r\n  \r\n  if (currentFilmsQueue) {\r\n  \r\n    let filmsQueue = JSON.parse(currentFilmsQueue);\r\n    //console.log(filmsArray);\r\n    if (filmsQueue.find(({ id }) => id === selectedFilm.id)) {\r\n     \r\n      const idxToRemove = filmsQueue.findIndex(el => el.id === selectedFilm.id);\r\n    \r\n      filmsQueue.splice(idxToRemove, 1);\r\n      localStorage.setItem('filmsQueue', JSON.stringify(filmsQueue));\r\n      const buttonAddToQueueRef = document.querySelector('.modal__queue-button');\r\n     \r\n      buttonAddToQueueRef.classList.remove('active');\r\n      buttonAddToQueueRef.textContent = 'ADD TO QUEUE';\r\n    } \r\n    else {\r\n      console.log('not find');\r\n    }\r\n  }\r\n}\r\n\r\nexport default onButtonRemoveFromQueue;\r\n","import onButtonAddToQueue from './onButtonAddToQueue';\r\nimport onButtonRemoveFromQueue from './onButtonRemoveFromQueue';\r\n\r\nfunction checkButtonQueueActive(film) {\r\n    const buttonAddToQueueRef = document.querySelector('.modal__queue-button');\r\n        // console.log(\r\n        //     buttonAddToWatchedRef.classList.contains('active')\r\n        // )\r\n        if(buttonAddToQueueRef.classList.contains('active')) {\r\n            onButtonRemoveFromQueue(film);\r\n        }\r\n        else {onButtonAddToQueue(film);\r\n\r\n        };\r\n\r\n}\r\nexport default checkButtonQueueActive;","import * as basicLightbox from 'basiclightbox';\r\nimport 'basiclightbox/src/styles/main.scss';\r\nimport searchMovie from './apiFilmFetch';\r\nimport modalTpl from '../templates/modal.hbs';\r\nimport onButtonAddToQueue from './onButtonAddToQueue';\r\nimport onButtonAddToWatched from './onButtonAddToWatched';\r\nimport refs from './refs.js';\r\nimport onButtonRemoveFromWatched from './onButtonRemoveFromWatched';\r\nimport checkButtonWatchedActive from './buttonWatchedCheckActive';\r\nimport checkButtonQueueActive from './buttonQueueCheckActive';\r\nimport { modalWatcher } from './modal-text-watcher';\r\nimport posterPlaceholder from '../img/image-placeholder-modal.jpg';\r\n\r\nfunction setPosterModal(data) {\r\n  return !data ? posterPlaceholder : `https://image.tmdb.org/t/p/w500/${data}`;\r\n}\r\n\r\nfunction getFilmInfo(movie_id) {\r\n  searchMovie(movie_id).then(film => {\r\n    film.poster_path = setPosterModal(film.poster_path);\r\n    const markupFilm = modalTpl(film);\r\n    const modal = basicLightbox.create(markupFilm);\r\n    modal.show();\r\n    // ===============================================\r\n    // Проверка есть ли фильм в Watched\r\n    const currentFilmsWatched = localStorage.getItem('filmsWatched');\r\n    if (currentFilmsWatched) {\r\n      let filmsArray = JSON.parse(currentFilmsWatched);\r\n      if (filmsArray.find(({ id }) => id === film.id)) {\r\n        const buttonAddToWatchedRef = document.querySelector(\r\n          '.modal__watched-button',\r\n        );\r\n        buttonAddToWatchedRef.classList.add('active');\r\n        buttonAddToWatchedRef.textContent = 'IN WATCHED';\r\n      }\r\n    }\r\n    // Проверка есть ли фильм в Queue\r\n    const currentFilmsQueue = localStorage.getItem('filmsQueue');\r\n    if (currentFilmsQueue) {\r\n      let filmsQueue = JSON.parse(currentFilmsQueue);\r\n      if (filmsQueue.find(({ id }) => id === film.id)) {\r\n        const buttonAddToQueueRef = document.querySelector(\r\n          '.modal__queue-button',\r\n        );\r\n        buttonAddToQueueRef.classList.add('active');\r\n        buttonAddToQueueRef.textContent = 'IN QUEUE';\r\n      }\r\n    }\r\n    // ==================================================\r\n\r\n    //   добавление onbuttonAddToQueue\r\n    const buttonAddToQueueRef = document.querySelector('.modal__queue-button');\r\n    buttonAddToQueueRef.addEventListener(\r\n      'click',\r\n      function () {\r\n        checkButtonQueueActive(film);\r\n      },\r\n      false,\r\n    );\r\n\r\n    // AddToWatched button\r\n\r\n    const buttonAddToWatchedRef = document.querySelector(\r\n      '.modal__watched-button',\r\n    );\r\n    console.log(buttonAddToWatchedRef);\r\n\r\n    // Listener to click\r\n\r\n    buttonAddToWatchedRef.addEventListener(\r\n      'click',\r\n      function () {\r\n        checkButtonWatchedActive(film);\r\n      },\r\n      false,\r\n    );\r\n\r\n    window.addEventListener('keydown', closeModalByEscape);\r\n    function closeModalByEscape(event) {\r\n      if (event.code === 'Escape') {\r\n        modal.close();\r\n        window.removeEventListener('keydown', closeModalByEscape);\r\n        //   снимаю слушатель с кнопки\r\n        buttonAddToQueueRef.removeEventListener(\r\n          'click',\r\n          function () {\r\n            checkButtonQueueActive(film);\r\n          },\r\n          true,\r\n        );\r\n        buttonAddToWatchedRef.removeEventListener(\r\n          'click',\r\n          function () {\r\n            checkButtonQueueActive(film);\r\n          },\r\n          true,\r\n        );\r\n      }\r\n    }\r\n    const crossRef = document.querySelector('.icon-cross');\r\n    crossRef.addEventListener('click', btnClosedModal);\r\n    function btnClosedModal() {\r\n      modal.close();\r\n      crossRef.removeEventListener('click', btnClosedModal);\r\n      //   снимаю слушатель с кнопки\r\n      buttonAddToQueueRef.removeEventListener(\r\n        'click',\r\n        function () {\r\n          checkButtonQueueActive(film);\r\n        },\r\n        true,\r\n      );\r\n      buttonAddToWatchedRef.removeEventListener(\r\n        'click',\r\n        function () {\r\n          checkButtonQueueActive(film);\r\n        },\r\n        true,\r\n      );\r\n    }\r\n\r\n    modalWatcher();\r\n  });\r\n}\r\n\r\nconst lightBox = () => {\r\n  refs.libraryList.addEventListener('click', openModal);\r\n  refs.movieGrid.addEventListener('click', openModal);\r\n  function openModal(event) {\r\n    event.preventDefault();\r\n    if (event.target.nodeName !== 'IMG' && event.target.nodeName !== 'H2') {\r\n      return;\r\n    }\r\n    getFilmInfo(event.target.dataset.id);\r\n  }\r\n};\r\n\r\nexport default lightBox;\r\n","function modalWatcher() {\r\n    const modalTextBoxRef = document.querySelector('.modal__text-about-box');\r\n    const modalTextAboutRef = document.querySelector('.modal__text-about');\r\n    const modalMoreRef = document.querySelector('.modal__more');\r\n    const bodyRef = document.querySelector('body');\r\n\r\n    modalMoreRef.addEventListener('click', () => {\r\n      if (modalTextBoxRef.dataset.size === 'min') {\r\n        modalTextBoxRef.dataset.size = 'max';\r\n      } else {\r\n        modalTextBoxRef.dataset.size = 'min';\r\n      }\r\n\r\n      if (modalTextBoxRef.dataset.size === 'max') {\r\n        modalTextAboutRef.style.height = 'auto';\r\n      } else {\r\n        modalTextAboutRef.style.height = '40px';\r\n      }\r\n    })\r\n  \r\n    window.addEventListener('resize', () => {\r\n      if ((bodyRef.clientWidth + 18) > 768) {\r\n        modalTextAboutRef.style.height = 'auto';\r\n    } else {\r\n        modalTextAboutRef.style.height = '40px';\r\n        modalTextBoxRef.dataset.size = 'min';\r\n      }\r\n  })\r\n}\r\n\r\nexport { modalWatcher };","import apiService from './apiSearchFetch.js';\r\nimport posterPlaceholder from '../img/image-placeholder.jpg';\r\n\r\nconst allGenres = [];\r\ngetAllGenres();\r\nexport default function getCardData(results) {\r\n  results.map(result => {\r\n    result.release_date = setDate(result.release_date);\r\n    result.poster_path = setPoster(result.poster_path);\r\n    result.genre_ids = genresFilter(allGenres, result.genre_ids);\r\n    return result;\r\n  });\r\n  return results;\r\n}\r\nfunction genresFilter(data, genreIds) {\r\n  const filtredData = data.filter(genre =>\r\n    genreIds.find(genreId => genre.id === genreId),\r\n  );\r\n  return setGenres(filtredData);\r\n}\r\nfunction getAllGenres() {\r\n  apiService.fetchGenres().then(data => {\r\n    return data.map(genre => allGenres.push(genre));\r\n  });\r\n}\r\nfunction setPoster(data) {\r\n  return !data ? posterPlaceholder : `https://image.tmdb.org/t/p/w342/${data}`;\r\n}\r\nfunction setDate(data) {\r\n  return !data ? 'Unknown Release Date' : data.slice(0, 4);\r\n}\r\nfunction setGenres(data) {\r\n  const reqGenres = [];\r\n  data.map(res => reqGenres.push(` ${res.name}`));\r\n  if (reqGenres.length > 3) {\r\n    reqGenres.splice(2);\r\n    reqGenres.push(' Other');\r\n  } else if (reqGenres.length === 0) {\r\n    reqGenres.push('Unknown Genre');\r\n  }\r\n  reqGenres.toString().trim();\r\n  return reqGenres;\r\n}\r\n","import apiSearch from './apiSearchFetch';\r\nimport gridTemplate from '../templates/movie-grid.hbs';\r\nimport refs from './refs.js';\r\nimport getCardData from './cardDataHandler.js';\r\nimport './components/pnotifyInclude.js';\r\nimport { notice, error, } from '@pnotify/core/dist/PNotify.js';\r\n\r\nexport default {\r\n  dataSource: '', // стек данных для пагинации, может быть функция возвращающая массив объектов, куча возможностей\r\n\r\n  //   function (done) {\r\n  //   $.ajax({\r\n  //     type: 'GET',\r\n  //     url: `https://api.themoviedb.org/3/search/movie?query=${apiService.query}&page=${apiService.page}`,\r\n  //     success: function (response) {\r\n  //       done(response.results);\r\n  //     },\r\n  //   });\r\n  // },\r\n  // локатор это ключ который есть в response и данные которого мы передаем в data\r\n  locator: 'results',\r\n  // общее количество страниц, почеммуто ломает pageSize\r\n  // totalNumber: 7,\r\n  totalNumberLocator: function (response) {\r\n    if (response.total_pages === 0){\r\n      error({\r\n      text: \"Search result not successful. Enter the correct movie name and try again!\"   \r\n  });\r\n}    \r\nreturn response.total_pages;\r\n},\r\n  pageSize: 1, //pageSizeCalc(window.innerWidth), // количество объектов-элементов на страницу\r\n  pageRange: 2,\r\n  //форматирование результатов данных из джсона\r\n  formatResult: function (data) {\r\n    getCardData(data);\r\n  },\r\n  // то что отображается прежде чем вернется ответ от сервера - спинер совать сюда\r\n  //   ajax: {\r\n  //     data: {\r\n  //       api_key: '2d2272085b6a086155bacb1413ae9080',\r\n  //       query: apiSearch.query,\r\n  //       page: apiSearch.page,\r\n  //     },\r\n  //     beforeSend: function () {\r\n  //       $('#js-grid').html(spinner());\r\n  //     },\r\n  //   },\r\n  showPrevious: true, // показать стрелочку \"предыдущее\"\r\n  prevText: '',\r\n  showNext: true, //показать стрелочку \"следующее\"\r\n  nextText: '',\r\n  autoHidePrevious: false, // авто спрятать кнопку \"предыдущее\"\r\n  autoHideNext: false, // авто спрятать кнопку \"следующее\"\r\n  // showGoInput: true, //показать Гоинпут для ввода страницы\r\n  // showGoButton: true, // показать кнопку Го для перехода к введенной в инпуте странице\r\n  beforePaging: function (arg) {\r\n    // apiService.page = arg;\r\n  },\r\n  // beforeNextOnClick: function () {\r\n  //   apiService.page += 1;\r\n  // },\r\n  // beforePreviousOnClick: function () {\r\n  //   apiService.page -= 1;\r\n  // },\r\n  callback: function (data, pagination) {\r\n    // тут код с методами отрисовки макета страницы по шаблонам,\r\n    //data это кусок массива объектов согласно номера страницы dataSource[..., data<N- elements of array >, ...]\r\n    //------------------------------------------------\r\n    // pagination.pageSize = pageSizeCalc(window.innerWidth);\r\n    // console.log(pagination);\r\n    // console.log(data);\r\n    // homeTrending.page = Math.trunc(\r\n    //   Number(pagination.pageNumber) /\r\n    //     Math.trunc(20 / Number(pagination.pageSize)),\r\n    // );\r\n    apiSearch.page = this.pageNumber;\r\n    //--------------------------------------------\r\n    const html = gridTemplate(data);\r\n    $('#js-grid').html(html);\r\n  },\r\n  //псевдоним заменяющий имя пагинатора pageNumber на имя в API запросе в нашем случае page что позволяет повторно отсялать запросы при нажатии на страницу\r\n  alias: {\r\n    pageNumber: 'page',\r\n    // pageSize: 'limit',\r\n  },\r\n};\r\n// -------------данный объект репрезентация объекта в пагинаторе, для понимания работы и логики\r\n// const pagination = {\r\n//   // pageNumber, //\tnumber\tThe selected page number\r\n//   pageRange: 5, //\tnumber\tVisible page number range\r\n//   pageSize: pageSizeCalc(window.innerWidth), //\tnumber\tEntries of per page\r\n//   // totalPage, //\tnumber\tTotal page\r\n//   // totalNumber, //number\tTotal entries\r\n//   // el, //  jQuery object\tPagination element\r\n//   // direction, //number\tPagination direction, -1 means forward, 1 means backward, 0 means current is at initialization.\r\n// };\r\n//-------------------------\r\n// возвращает размер страницы в зависимости от вьюпорта пользователя не работает для данного нам API\r\n// function pageSizeCalc(innerWidth) {\r\n//   if (innerWidth < 768) {\r\n//     return 4;\r\n//   }\r\n//   if (innerWidth < 1024) {\r\n//     return 8;\r\n//   }\r\n//   return 9;\r\n// }\r\n","import './sass/main.scss';\r\nimport './js/openLibrary.js';\r\nimport refs from './js/refs.js';\r\nimport apiService from './js/apiSearchFetch.js';\r\nimport lightbox from './js/modalFilmMarkup';\r\nimport { processingSpinner, deleteSpinner } from './js/spinner-loader';\r\nimport './js/pagination.min';\r\nimport optionsPagination from './js/paginationOptions';\r\nimport './js/team-modal';\r\nconst container = $('#pagination-container');\r\n\r\n// processingSpinner();\r\n///поиск по инпуту\r\nrefs.inputForm.addEventListener('submit', event => {\r\n  event.preventDefault();\r\n  const form = event.currentTarget;\r\n  if (form.elements.query.value < 1) {\r\n    return;\r\n  }\r\n  apiService.query = form.elements.query.value;\r\n  console.log(apiService.searchUrl);\r\n  refs.movieGrid.innerHTML = '';\r\n  form.reset(); //чистим форму\r\n\r\n  container.pagination({\r\n    ...optionsPagination, //деструктуризация базовых настроек пагинатора (default options) рендер страницы зашит в дефолтных опциях!!!\r\n    dataSource: apiService.searchUrl, //передача корня ссылки на сайт в данном случае ссылка поиска\r\n    ajax: apiService.ajaxDataForSearch, // настройки запросов аякса под каждый сайт-сервер (apiKey,page,query)\r\n  });\r\n});\r\n\r\n//запускается при отрисовке страницы первым\r\ncontainer.pagination({\r\n  ...optionsPagination, //деструктуризация базовых настроек пагинатора (default options) рендер страницы зашит в дефолтных опциях!!!\r\n  dataSource: apiService.popularUrl, //передача корня ссылки на сайт в данном случае ссылка популярных фильмов\r\n  ajax: apiService.ajaxDataForPopular, // настройки запросов аякса под каждый сайт-сервер (apiKey,page,query)\r\n});\r\n// deleteSpinner();\r\nlightbox();\r\n","module.exports = __webpack_public_path__ + \"img/image-placeholder-modal.jpg\";","module.exports = __webpack_public_path__ + \"img/image-placeholder.jpg\";","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"spinner-border spinner-position\\\" role=\\\"status\\\">\\r\\n    <span class=\\\"visually-hidden\\\">Loading...</span>\\r\\n</div>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"library__card-container\\\">\\r\\n  <article class=\\\"lib-card\\\" id=\\\"lib-card\\\">\\r\\n    <a class=\\\"lib-card__link\\\" href=\\\"#\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":48},\"end\":{\"line\":3,\"column\":54}}}) : helper)))\n    + \"\\\">\\r\\n      <div class=\\\"lib-card__image-container\\\">\\r\\n        <img class=\\\"lib-card__image\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":42},\"end\":{\"line\":5,\"column\":57}}}) : helper)))\n    + \"\\\" alt=\\\"movie-cover\\\" />\\r\\n      </div>\\r\\n      <h2 class=\\\"lib-card__title\\\">\\r\\n        \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":8},\"end\":{\"line\":8,\"column\":17}}}) : helper)))\n    + \"\\r\\n      </h2>\\r\\n      <div class=\\\"lib-card__info\\\">\\r\\n        <span class=\\\"lib-card__info--genres\\\">\\r\\n          \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"genres\") || (depth0 != null ? lookupProperty(depth0,\"genres\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"genres\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":10},\"end\":{\"line\":13,\"column\":20}}}) : helper)))\n    + \"\\r\\n        </span>\\r\\n        <span>\\r\\n          |\\r\\n        </span>\\r\\n        <span>\\r\\n          \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"release_date\") || (depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"release_date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":10},\"end\":{\"line\":20,\"column\":26}}}) : helper)))\n    + \"\\r\\n        </span>\\r\\n        <div class=\\\"lib-card__info--ratio\\\">\\r\\n          <span>\\r\\n            \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":24,\"column\":12},\"end\":{\"line\":24,\"column\":28}}}) : helper)))\n    + \"\\r\\n          </span>\\r\\n        </div>\\r\\n      </div>\\r\\n    </a>\\r\\n  </article>\\r\\n</li>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                        <span class=\\\"modal__rating-genre-value\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</span>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div id=\\\"modal\\\" class=\\\"modal\\\">\\r\\n    <button class=\\\"modal__close-btn\\\" type=\\\"button\\\">\\r\\n        <svg class=\\\"icon-cross\\\" width=\\\"20px\\\" height=\\\"20px\\\" fill=\\\"#000000\\\" viewBox=\\\"0 0 32 32\\\"\\r\\n            xmlns=\\\"http://www.w3.org/2000/svg\\\">\\r\\n            <path stroke=\\\"black\\\" stroke-width=\\\"2.133\\\" d=\\\"M8.533 8.533l14.933 14.933m-14.933.001L23.466 8.534\\\" />\\r\\n        </svg>\\r\\n    </button>\\r\\n    <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":14},\"end\":{\"line\":8,\"column\":29}}}) : helper)))\n    + \"\\\" data-source=\\\"https://image.tmdb.org/t/p/w500/\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"backdrop_path\") || (depth0 != null ? lookupProperty(depth0,\"backdrop_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"backdrop_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":76},\"end\":{\"line\":8,\"column\":93}}}) : helper)))\n    + \"\\\" alt=\\\"film poster\\\"\\r\\n        class=\\\"modal__image\\\" width=\\\"240px\\\" />\\r\\n    <div class=\\\"modal__info-box\\\">\\r\\n        <h2 class=\\\"modal__film-title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":38},\"end\":{\"line\":11,\"column\":47}}}) : helper)))\n    + \"</h2>\\r\\n        <div class=\\\"modal__rating-box\\\">\\r\\n            <ul class=\\\"modal__rating-list\\\">\\r\\n                <li class=\\\"modal__rating-item\\\">\\r\\n                    <span class=\\\"modal__rating-votes\\\">Vote / Votes</span>\\r\\n                    <span class=\\\"modal__rating-votes-avarage\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":62},\"end\":{\"line\":16,\"column\":78}}}) : helper)))\n    + \"</span>\\r\\n                    <span class=\\\"slice\\\">/</span>\\r\\n                    <span class=\\\"modal__rating-votes-total\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_count\") || (depth0 != null ? lookupProperty(depth0,\"vote_count\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_count\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":60},\"end\":{\"line\":18,\"column\":74}}}) : helper)))\n    + \"</span>\\r\\n                </li>\\r\\n                <li class=\\\"modal__rating-item\\\">\\r\\n                    <span class=\\\"modal__rating-popular\\\">Popularity</span>\\r\\n                    <span class=\\\"modal__rating-popular-value\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"popularity\") || (depth0 != null ? lookupProperty(depth0,\"popularity\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"popularity\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":62},\"end\":{\"line\":22,\"column\":76}}}) : helper)))\n    + \"</span>\\r\\n                </li>\\r\\n                <li class=\\\"modal__rating-item\\\">\\r\\n                    <span class=\\\"modal__rating-name\\\">Original Title</span>\\r\\n                    <div class=\\\"modal__rating-name-box\\\">\\r\\n                        <span class=\\\"modal__rating-name-value\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":27,\"column\":63},\"end\":{\"line\":27,\"column\":81}}}) : helper)))\n    + \"</span>\\r\\n                    </div>\\r\\n                </li>\\r\\n                <li class=\\\"modal__rating-item\\\">\\r\\n                    <span class=\\\"modal__rating-genre\\\">Genre</span>\\r\\n                    <div class=\\\"modal__rating-genre-box\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"genres\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":33,\"column\":24},\"end\":{\"line\":35,\"column\":33}}})) != null ? stack1 : \"\")\n    + \"                    </div>\\r\\n                </li>\\r\\n            </ul>\\r\\n\\r\\n        </div>\\r\\n        <h3 class=\\\"modal__title-about\\\">About</h3>\\r\\n        <div class=\\\"modal__text-about-box\\\" data-size=\\\"min\\\">\\r\\n            <p class=\\\"modal__text-about\\\">\\r\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"overview\") || (depth0 != null ? lookupProperty(depth0,\"overview\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"overview\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":44,\"column\":16},\"end\":{\"line\":44,\"column\":28}}}) : helper)))\n    + \"\\r\\n            </p>\\r\\n            <p class=\\\"modal__more\\\">&#8693</p>\\r\\n        </div>\\r\\n        <div class=\\\"modal__button-box\\\">\\r\\n            <button class=\\\"modal__watched-button\\\" type=\\\"button\\\">add to <br> watched</button>\\r\\n            <button class=\\\"modal__queue-button\\\" type=\\\"button\\\">add to queue</button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}